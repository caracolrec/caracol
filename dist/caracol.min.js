module.exports=function(a){a.initConfig({pkg:a.file.readJSON("package.json"),stylus:{compile:{options:{},caracol:{files:{"public/stylesheets/caracol.css":"public/stylesheets/stylus/caracol.styl"}}}},concat:{options:{stripBanners:!0},dist:{src:["*.js","views/*.js"],dest:"dist/<%= pkg.name %>.js"}},uglify:{options:{},dist:{files:{"dist/<%= pkg.name %>.min.js":["<%= concat.dist.dest %>"]}}},jshint:{files:["*.js","routes/*.js"],options:{curly:!0,eqeqeq:!0,immed:!0,latedef:!0,newcap:!0,noarg:!0,sub:!0,undef:!0,unused:!0,boss:!0,eqnull:!0,browser:!0,node:!0,globals:{jQuery:!0}},gruntfile:{src:"Gruntfile.js"}},watch:{gruntfile:{files:"<%= jshint.gruntfile.src %>",tasks:["jshint:gruntfile"]},lib_test:{files:"<%= jshint.lib_test.src %>",tasks:["jshint:lib_test","qunit"]}}}),a.loadNpmTasks("grunt-contrib-stylus"),a.loadNpmTasks("grunt-contrib-concat"),a.loadNpmTasks("grunt-contrib-uglify"),a.loadNpmTasks("grunt-contrib-qunit"),a.loadNpmTasks("grunt-contrib-jshint"),a.loadNpmTasks("grunt-contrib-watch"),a.registerTask("default",["stylus","jshint","concat","uglify"])};var express=require("express"),routes=require("./routes"),user=require("./routes/user"),http=require("http"),path=require("path"),app=express();app.set("port",process.env.PORT||3e3),app.set("views",path.join(__dirname,"views")),app.set("view engine","jade"),app.use(express.favicon()),app.use(express.logger("dev")),app.use(express.json()),app.use(express.urlencoded()),app.use(express.methodOverride()),app.use(express.cookieParser("your secret here")),app.use(express.session()),app.use(app.router),app.use(require("stylus").middleware(path.join(__dirname,"public"))),app.use(express.static(path.join(__dirname,"public"))),"development"===app.get("env")&&app.use(express.errorHandler()),app.get("/",routes.index),app.get("/users",user.list),http.createServer(app).listen(app.get("port"),function(){console.log("Express server listening on port "+app.get("port"))});